# 🎉 多人使用版本更新說明

## ✨ 重大更新

你的營養素補充最佳化工具現在已經升級為**多人可同時使用版本**！

### 🔄 改變了什麼？

#### 之前的問題：
- ❌ 所有人共用同一份資料
- ❌ 小明的設定會被小華覆蓋
- ❌ 伺服器重啟資料就消失

#### 現在的優點：
- ✅ **每個人的資料完全獨立**
- ✅ **資料儲存在您的瀏覽器**
- ✅ **不會互相干擾**
- ✅ **可以匯出/匯入備份**
- ✅ **支援無限多人同時使用**

---

## 💾 資料儲存方式

### 使用 localStorage（瀏覽器本地儲存）

您的所有資料（需求、產品、方案）都儲存在**您自己的瀏覽器**中：

- 🔒 **完全私密**：資料不會上傳到伺服器
- 👤 **完全獨立**：每個人有自己的資料
- 💪 **持久保存**：不會因為伺服器重啟而消失
- ⚡ **超快速度**：不需要網路請求

---

## 📱 使用情境

### ✅ 完美適合：

1. **多人同時使用**
   - 10 人、100 人、1000 人都沒問題
   - 完全不會互相干擾

2. **個人長期使用**
   - 資料永久保存在您的瀏覽器
   - 下次開啟還在

3. **公開分享**
   - 可以放心分享網址給任何人
   - 每個人的資料都是獨立的

4. **展示和教學**
   - 適合公開展示
   - 學生可以各自練習

---

## 🛠️ 新功能

### 1. 匯出資料 📥
- 點擊「匯出資料」按鈕
- 下載 JSON 檔案
- 備份您的所有設定

### 2. 匯入資料 📤
- 點擊「匯入資料」按鈕
- 選擇之前匯出的 JSON 檔案
- 一鍵恢復所有設定

### 3. 清空資料 🗑️
- 清空所有需求、產品和方案
- 重新開始
- **建議先匯出備份！**

---

## ⚠️ 重要須知

### 資料儲存位置

您的資料儲存在：
```
瀏覽器 → localStorage → nutritionOptimizerData
```

### 什麼情況會遺失資料？

1. **清除瀏覽器資料**
   - 清除瀏覽器快取/Cookie
   - 使用「清除瀏覽資料」功能

2. **無痕模式/私密瀏覽**
   - 關閉瀏覽器後資料會消失
   - 建議用一般模式

3. **換瀏覽器/換裝置**
   - 不同瀏覽器的資料不互通
   - 需要匯出後再匯入

### 如何保護資料？

1. **定期匯出備份** ⭐
   - 建議每週匯出一次
   - 儲存到雲端硬碟

2. **不要清除瀏覽器資料**
   - 清除前先匯出

3. **使用同一個瀏覽器**
   - 固定用 Chrome 或 Firefox

---

## 🔄 跨裝置使用

### 情境：想在手機和電腦都能用

**方法 1：匯出/匯入**
1. 在電腦上點擊「匯出資料」
2. 把 JSON 檔案傳到手機（Email、雲端硬碟）
3. 在手機開啟網站
4. 點擊「匯入資料」選擇檔案

**方法 2：同步到雲端**
1. 在電腦上匯出資料
2. 上傳到 Google Drive / Dropbox
3. 需要時下載並匯入

---

## 💡 使用技巧

### 技巧 1：定期備份

建議每次修改後都匯出一次：
```
修改需求 → 匯出資料 → 存到雲端
新增產品 → 匯出資料 → 存到雲端
建立方案 → 匯出資料 → 存到雲端
```

### 技巧 2：多個方案

可以匯出多個版本：
```
nutrition-data-2024-01-15-方案A.json
nutrition-data-2024-01-15-方案B.json
nutrition-data-2024-01-16-最終版.json
```

### 技巧 3：分享方案

想分享您的配置給朋友：
1. 匯出資料
2. 傳送 JSON 檔案
3. 朋友匯入就有完全相同的設定

### 技巧 4：重新開始

想清空重來：
1. 先匯出備份（以防後悔）
2. 點擊「清空所有資料」
3. 重新設定

---

## 🆚 與舊版比較

| 功能 | 舊版（伺服器儲存） | 新版（瀏覽器儲存） |
|------|-------------------|-------------------|
| 多人使用 | ❌ 會互相干擾 | ✅ 完全獨立 |
| 資料持久性 | ❌ 重啟會消失 | ✅ 永久保存 |
| 隱私性 | ⚠️ 儲存在伺服器 | ✅ 完全私密 |
| 速度 | ⚠️ 需要網路請求 | ✅ 即時反應 |
| 備份 | ❌ 無法匯出 | ✅ 可以匯出 |
| 跨裝置 | ❌ 無法同步 | ⚠️ 需手動匯入 |

---

## 🔧 技術細節

### localStorage 容量

- 一般瀏覽器：**5-10 MB**
- 足夠儲存：
  - 數百個營養素需求
  - 數百個產品
  - 數百個方案

### 資料格式

```json
{
  "requirements": {
    "維他命B6": {
      "min": 10,
      "max": 50,
      "unit": "mg"
    }
  },
  "products": {
    "1234567890": {
      "id": "1234567890",
      "name": "甲款綜合維他命",
      "totalPrice": 500,
      "totalServings": 60,
      "pricePerServing": 8.33,
      "nutrients": {
        "維他命B6": 8
      }
    }
  },
  "solutions": [],
  "exportDate": "2024-01-15T10:30:00.000Z",
  "version": "1.0"
}
```

---

## ❓ 常見問題

### Q1：資料安全嗎？

**A：** 非常安全！資料只儲存在您的瀏覽器，不會上傳到任何地方。

### Q2：會不會被別人看到我的資料？

**A：** 不會！每個人的瀏覽器都是獨立的，完全看不到別人的資料。

### Q3：為什麼要定期匯出？

**A：** 以防萬一。雖然資料會保存，但如果：
- 不小心清除瀏覽器資料
- 電腦重灌
- 瀏覽器出問題

有備份就不怕！

### Q4：可以在手機上用嗎？

**A：** 可以！但手機和電腦的資料是分開的。想同步的話需要匯出/匯入。

### Q5：匯出的檔案可以編輯嗎？

**A：** 可以！是標準的 JSON 格式，可以用文字編輯器編輯。但要小心別弄壞格式。

### Q6：可以分享給朋友嗎？

**A：** 當然！直接傳網址就好。每個人的資料都是獨立的，不用擔心。

### Q7：如果想回到舊版（伺服器儲存）？

**A：** 不建議。新版更好用、更安全、支援更多人。如果真的需要，請聯絡開發者。

---

## 🎓 最佳實踐

### 個人使用

1. 第一次設定好後立即匯出備份
2. 每週或每次大改動後匯出
3. 把 JSON 檔案存到雲端硬碟

### 多人共同使用（例如：家人）

1. 由一個人設定好基礎資料
2. 匯出 JSON 檔案分享給家人
3. 每個人匯入後再根據自己需求修改
4. 各自維護自己的資料

### 教學使用

1. 準備範例資料的 JSON 檔案
2. 學生匯入範例資料開始學習
3. 學生可以自由實驗，不會影響別人

---

## 📞 需要幫助？

如果遇到問題：

1. 查看瀏覽器 Console（F12）是否有錯誤訊息
2. 確認瀏覽器支援 localStorage（現代瀏覽器都支援）
3. 試試看匯出/匯入功能是否正常

---

## 🚀 未來計畫

可能的進階功能：

- [ ] 雲端同步（需要帳號系統）
- [ ] 分享連結（給特定人看你的方案）
- [ ] 版本控制（記錄修改歷史）
- [ ] 協作功能（多人編輯同一份資料）

---

現在您可以放心分享網址給任何人使用了！每個人都會有自己獨立的資料，完全不會互相干擾。

祝使用愉快！🎉
